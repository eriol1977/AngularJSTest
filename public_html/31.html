<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Stock Market App</title>
    </head>
    <body ng-app="stockMarketApp">
        <div ng-controller="MainCtrl as mainCtrl">
            <h3>List of Stocks</h3>
            <div ng-repeat="stock in mainCtrl.stocks">
                <div ng-include="mainCtrl.stockTemplate">
                </div>
            </div>
        </div>
        <script src="js/angular.min.js"></script>
        <script type="text/javascript">
                            angular.module('stockMarketApp', [])
                            .controller('MainCtrl', [function() {
                            var self = this;
                                    self.stocks = [
                                            {name: 'First Stock', price: 100, previous: 220},
                                            {name: 'Second Stock', price: 140, previous: 120},
                                            {name: 'Third Stock', price: 110, previous: 110},
                                            {name: 'Fourth Stock', price: 400, previous: 420}
                                    ];
                                    self.stockTemplate = 'view/stock1.html';
                                    self.getChange = function(stock) {
                                    return Math.ceil((
                                            (stock.price - stock.previous) / stock.previous) * 100);
                                            };
                            }]);
        </script>
    </body>
</html>
